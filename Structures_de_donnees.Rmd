---
title: "Structures de données"
author: "Lecaude Cresciense"
date: "6 septembre 2019"
output: ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Les matrices 

Ce sont des vecteurs de même nature organisés en données tabulaires.
Les attributs correspondent aux dimensions de la matrice. 

```{r}
m <- matrix(nrow = 2, ncol = 3)
m
```


```{r}
m <- matrix(nrow = 2, ncol = 3)
dim(m)
```

##

```{r}
m <- matrix(nrow = 2, ncol = 3)
attributes(m)
```


##

Les matrices se remplissent par défaut en colonnes 


```{r}
m2 = matrix(1:6,nrow=2,ncol=3)
m2

```

##
On peut aussi transformer des vecteurs en matrices en intégrant une dimension. 


```{r}
vec = 1:10
dim(vec)=c(2,5) 
vec
```
 On indique que le vecteur doit maintenant être ordonné suivant deux lignes et 5 colonnes

##
On peut aussi assembler plusieurs vecteurs en matrices à condition qu'ils aient la même taille.

```{r}
x=4:7
y=8:11

m4=rbind(x,y) 
m4
```

##

```{r}
x=4:7
y=8:11
m5=cbind(x,y)
m5
```

##

## Les listes 
 
 Ce sont des vecteurs particuliers qui contiennent des objets de différentes classes. 
 Elles sont très utilisées avec les fonctions de la famille "apply" 
 

```{r}
x <- list(1, "a", TRUE)
 x
```

##

 Un exemple avec la fonction apply 
 

```{r}
x <- list(a = 1:7, b = runif(n = 5, min = 10, max = 20),
          booleen = c(TRUE,FALSE,FALSE,TRUE))
x
```

##


```{r}
x <- list(a = 1:7, b = runif(n = 5, min = 10, max = 20), 
          booleen = c(TRUE,FALSE,FALSE,TRUE))
y<-lapply(x,mean)
y
```
 
 
## Les dataframes 

Ils sont utilisés pour les données tabulaires. 
Tous les objets le composant doivent avoir la même longueur.
Ils peuvent être de classes différentes.



```{r}
 x <- data.frame( num=1:4, log= c(T, T, F, F))
 x
```



## Fonctions utiles

Convertir les colonnes en lignes et inversement : la transposition 


```{r}
x <- data.frame( num=1:4, num2=4:7)
x
```

##


```{r}
x <- data.frame( num=1:4, num2=4:7)
x
t(x)
```

##

Comment passer d'une matrice à un data frame, comment faire passer les lignes en colonnes ? 
Avec as.data.frame(x), as.matrix(x), 

Ajouter une colonne à un data frame 


```{r}
D<-data.frame(a=1:5,b=8:12)
D
```



```{r}
c<-letters[1:5]
c
```

##


```{r}
M<-data.frame(D,c)
M
```

##

Stocker les résultats d'une boucle dans un dataframe


```{r}
resultat<-NULL

for(i in 1:100){

V=rep(i,3)
  x=V^2
  y=V+x
  
 m=matrix(c(x,y,V),ncol=3)
  m=as.data.frame(m)
resultat<-rbind(resultat,m)
}
colnames(resultat)=c("x","y","V")
resultat
```

